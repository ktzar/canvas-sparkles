<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Sparkles!</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="script.js"></script>
    <script>
        var animInstance;
        function initialiseControls() {
            $('.control-panel input').change(function(){
                var key = $(this).attr('id');
                if ( $(this).attr('type') == 'checkbox') {
                    var value = ($(this).attr('checked'))?true:false;
                } else {
                    var value = parseInt($(this).val());
                }
                $(this).parent().find('output').val(value);
                var new_config = {};
                new_config[key] = value;
                animInstance.setConfig(new_config);
            }).each(function(){
                $(this).parent().find('output').val($(this).val());
            });
        }
        $(function(){
            animInstance = new ParticleSystem();
            initialiseControls();
        });
    </script>
    <style type="text/css" media="screen">
        #myCanvas{
            float:left;
        }
    </style>
</head>
<body>
    <canvas id="myCanvas" width="600" height="600"></canvas>
    <div class="control-panel">
        <div class="value">
            <label>Initial size</label>
            <input type="range" step="1" value="10" min="5" max="55" id="initSize"/>
            <output></output><br/>
        </div>
        <div class="value">
            <label>Initial Speed Y</label>
            <input type="range" step="1" value="0" min="-40" max="40" id="initSpeedY"/>
            <output></output><br/>
        </div>
        <div class="value">
            <label>Initial Speed X</label>
            <input type="range" step="1" value="0" min="-40" max="40" id="initSpeedX"/>
            <output></output><br/>
        </div>
        <div class="value">
            <label>Initial Speed Randomness</label>
            <input type="range" step="1" value="0" min="0" max="10" id="initSpeedRand"/>
            <output></output><br/>
        </div>
        <div class="value">
            <label>Bouncing X</label>
            <input type="checkbox" id="bounceX"/>
            <output></output><br/>
        </div>
        <div class="value">
            <label>Shrink rate</label>
            <input type="number" value="0.9" min="0.9" max="1.1" step="0.01" id="shrinkRate"/>
            <output></output><br/>
        </div>
        <div class="value">
            <label>Gravity</label>
            <input type="range" min="-3" max="3" step="1" id="gravity"/>
            <output></output><br/>
        </div>
    </div>
</body>
</html>
